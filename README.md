
# Порядок выполнения условий из задачи

## 1. Установка Ansible
### 1.1 Перейдите на сервер ‘A’ и произведите установку pip
<pre>
curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py
<br>
python3 get-pip.py –user
</pre>
### 1.2 Установка Ansible
<pre>
python3 -m pip install --user ansible
</pre>
## 2. Загрузка и запуск Ansible-Playbook
### 2.1 Клонируйте репозиторий с описанным сценарием для ansible:
<pre>
git clone https://github.com/datPVL/renue_test_ansible_playbook
</pre>
### 2.2 Для каждой ноды обозначен свой IP для удобства понимания:
- Сервер А - nodeA: 192.168.0.5
- Сервер В - nodeB: 192.168.0.10
- Сервер С - nodeC: 192.168.0.15
### 2.3 Добавьте публичный ключ сервера А в папку roles/roleB/files/userA/* 
### 2.4 Запустите поочередно следующие сценарии:
<pre>
ansible-playbook -i hosts.yaml playbookB.yaml
<br>
ansible-playbook -i hosts.yaml playbookC.yaml
</pre>
## 3. Тесты
Во время работы плейбуков можно отследить, сколько времени заняла каждая задача. Также playbookC сразу подразумевает проверку доступа к созданным БД с сервера С.
<pre>
Проверка доступности серверов В и С только с сервера А производится следующим образом:

Для подключения к серверу В: 

На сервере А: ssh devops@192.168.0.10 (должно установится подключение без запроса пароля)

Для подключения к серверу С:

На сервере А: ssh username@192.168.0.15 (должно установиться подключение с запросом пароля)
</pre>
Проверка соединения между В и С:
<pre>
SSH порт на серверах открыт только для сервера А. 

Проверить работоспособность конфигурации можно путем попытки подключения по ssh

На сервере В:

ssh username@192.168.0.15

На сервере С:

ssh devops@192.168.0.10
</pre>
